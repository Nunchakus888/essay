---
layout: post
title:  require vs import(module.exports(exports vs module.exports) vs export(export vs export default))
date:   2017-10-15 21:32:00
categories: diary
location: ShangHai, China
description: çœ‹æ ‡é¢˜æˆ‘å°±æ™•äº†ğŸ˜„
tail: æ‰€ä»¥ï¼Œä½ ä»¬å•¥æ—¶å€™èƒ½å¤Ÿå¤§ä¸€ç»Ÿï¼Ÿå¥½åƒä¹Ÿä¸é‡è¦äº†ğŸ™„ï¸ï¼Œæˆ‘ææ˜ç™½äº†...


---
---


require: æ˜¯ CommonJS è§„èŒƒ
=======
+ CommonJS è§„èŒƒæ˜¯ä¸ºäº†è§£å†³jsçš„ä½œç”¨åŸŸé—®é¢˜è€Œå®šä¹‰çš„æ¨¡å—å½¢å¼ï¼Œå¯ä»¥ä½¿æ¯ä¸ªæ¨¡å—å®ƒè‡ªèº«çš„å‘½åç©ºé—´ä¸­æ‰§è¡Œï¼Œè¯¥è§„èŒƒçš„ä¸»è¦å†…å®¹æ˜¯ï¼š
    + `æ¨¡å—å¿…é¡»é€šè¿‡module.exportsæŠ›å‡ºå¯¹å¤–çš„å˜é‡æˆ–æ¥å£`ï¼Œé€šè¿‡requireï¼ˆï¼‰æ¥å¯¼å…¥å…¶ä»–æ¨¡å—çš„è¾“å‡ºåˆ°å½“å‰æ¨¡å—ä½œç”¨åŸŸä¸­ã€‚
    + `CommonJs`æ˜¯åŒæ­¥åŠ è½½æ¨¡å—ï¼Œä¹Ÿæœ‰æµè§ˆå™¨ç«¯çš„å®ç°ï¼Œå…¶åŸç†æ˜¯å°†æ‰€æœ‰çš„æ¨¡å—éƒ½å®šä¹‰å¥½ï¼Œå¹¶é€šè¿‡IDç´¢å¼•ï¼Œç„¶ååœ¨æµè§ˆå™¨ç¯å¢ƒä¸­è§£æã€‚

exports & module.exports
-------

> exports å’Œ module.exportså æ®åŒä¸€å—å†…å­˜åŒºåŸŸ
æ¨¡å—æœ€åä»¥ module.exports å¯¼å‡ºï¼Œç„¶åç”¨requireå¯¼å…¥ã€‚
æ‰€ä»¥ï¼Œæ­¤å¤„å¯èƒ½ä¼šæœ‰ä¸€ç±»æ”¹å˜åœ°å€çš„æ“ä½œä¾‹å¦‚ exports = nullï¼Œæœ€åå¯¼å‡ºéƒ½ä¸ä¼šç”Ÿæ•ˆï¼Œä»¥module.exportsä¸ºå‡†ã€‚


import: ESMAScriptè§„èŒƒ, ES6+
=======

ES6 æ¨¡å—çš„è®¾è®¡æ€æƒ³ï¼Œ`æ˜¯å°½é‡çš„é™æ€åŒ–`ï¼Œä½¿å¾—ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œä»¥åŠè¾“å…¥å’Œè¾“å‡ºçš„å˜é‡ã€‚
 `CommonJS å’Œ AMD æ¨¡å—ï¼Œéƒ½åªèƒ½åœ¨è¿è¡Œæ—¶ç¡®å®šè¿™äº›ä¸œè¥¿`ã€‚
æ¯”å¦‚ï¼ŒCommonJS æ¨¡å—å°±æ˜¯å¯¹è±¡ï¼Œè¾“å…¥æ—¶å¿…é¡»æŸ¥æ‰¾å¯¹è±¡å±æ€§ã€‚
ES6 â€œç¼–è¯‘æ—¶åŠ è½½â€æˆ–è€…é™æ€åŠ è½½ï¼Œå³å¯ä»¥åœ¨ç¼–è¯‘æ—¶å°±å®Œæˆæ¨¡å—åŠ è½½ï¼Œæ•ˆç‡è¦æ¯” CommonJS æ¨¡å—çš„åŠ è½½æ–¹å¼é«˜ã€‚

+ `ES6 çš„æ¨¡å—è‡ªåŠ¨é‡‡ç”¨ä¸¥æ ¼æ¨¡å¼`ï¼Œä¸ç®¡ä½ æœ‰æ²¡æœ‰åœ¨æ¨¡å—å¤´éƒ¨åŠ ä¸Š"use strict";
+ `importè¯­å¥æ˜¯ Singleton æ¨¡å¼ã€‚`
+ import()å‡½æ•°å¯ä»¥ç”¨åœ¨ä»»ä½•åœ°æ–¹ï¼Œä¸ä»…ä»…æ˜¯æ¨¡å—ï¼Œéæ¨¡å—çš„è„šæœ¬ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚
å®ƒæ˜¯è¿è¡Œæ—¶æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»€ä¹ˆæ—¶å€™è¿è¡Œåˆ°è¿™ä¸€å¥ï¼Œä¹Ÿä¼šåŠ è½½æŒ‡å®šçš„æ¨¡å—ã€‚å¦å¤–ï¼Œimport()å‡½æ•°ä¸æ‰€åŠ è½½çš„æ¨¡å—æ²¡æœ‰é™æ€è¿æ¥å…³ç³»ï¼Œè¿™ç‚¹ä¹Ÿæ˜¯ä¸importè¯­å¥ä¸ç›¸åŒã€‚import()ç±»ä¼¼äº Node çš„requireæ–¹æ³•ï¼ŒåŒºåˆ«ä¸»è¦æ˜¯`å‰è€…æ˜¯å¼‚æ­¥åŠ è½½ï¼Œåè€…æ˜¯åŒæ­¥åŠ è½½ã€‚`


export & export default
-------
+ ä¸¤è€…éƒ½å¯å¯¼å‡ºå¸¸é‡ã€å‡½æ•°ã€æ–‡ä»¶ã€æ¨¡å—ç­‰
+ export å¯ä»¥æœ‰å¤šä¸ªï¼Œexport defaultä»…æœ‰ä¸€ä¸ª
+ é€šè¿‡exportæ–¹å¼å¯¼å‡ºï¼Œåœ¨å¯¼å…¥æ—¶è¦åŠ { }ï¼Œexport defaultåˆ™ä¸éœ€è¦
+ exportèƒ½ç›´æ¥å¯¼å‡ºå˜é‡è¡¨è¾¾å¼ï¼Œexport defaultä¸å¯ä»¥ã€‚



> import/requireåŠ è½½node_modulesä¾èµ–æ—¶ï¼Œå¦‚æœæ–‡ä»¶ç›®å½•ä¸‹æœ‰ package.jsonï¼Œå°±æ ¹æ®å®ƒçš„ main å­—æ®µæ‰¾åˆ° js æ–‡ä»¶ã€‚å¦‚æœæ²¡æœ‰ package.jsonï¼Œé‚£å°±é»˜è®¤å–æ–‡ä»¶å¤¹ä¸‹çš„ index.jsã€‚

